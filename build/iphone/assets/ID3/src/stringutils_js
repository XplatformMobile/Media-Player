var StringUtils={readUTF16String:function(e,t,r){var a=0,n=1,i=0;r=Math.min(r||e.length,e.length),254==e[0]&&255==e[1]?(t=!0,a=2):255==e[0]&&254==e[1]&&(t=!1,a=2),t&&(n=0,i=1);for(var o=[],s=0;r>a;s++){var u=e[a+n],l=e[a+i],g=(u<<8)+l;if(a+=2,0==g)break;if(216>u||u>=224)o[s]=String.fromCharCode(g);else{var c=e[a+n],d=e[a+i],f=(c<<8)+d;a+=2,o[s]=String.fromCharCode(g,f)}}var m=new String(o.join(""));return m.bytesReadCount=a,m},readUTF8String:function(e,t){var r=0;t=Math.min(t||e.length,e.length),239==e[0]&&187==e[1]&&191==e[2]&&(r=3);for(var a=[],n=0;t>r;n++){var i=e[r++];if(0==i)break;if(128>i)a[n]=String.fromCharCode(i);else if(i>=194&&224>i){var o=e[r++];a[n]=String.fromCharCode(((31&i)<<6)+(63&o))}else if(i>=224&&240>i){var o=e[r++],s=e[r++];a[n]=String.fromCharCode(((255&i)<<12)+((63&o)<<6)+(63&s))}else if(i>=240&&245>i){var o=e[r++],s=e[r++],u=e[r++],l=((7&i)<<18)+((63&o)<<12)+((63&s)<<6)+(63&u)-65536;a[n]=String.fromCharCode((l>>10)+55296,(1023&l)+56320)}}var g=new String(a.join(""));return g.bytesReadCount=r,g},readNullTerminatedString:function(e,t){var r=[];t=t||e.length;for(var a=0;t>a;){var n=e[a++];if(0==n)break;r[a-1]=String.fromCharCode(n)}var i=new String(r.join(""));return i.bytesReadCount=a,i}};module.exports=StringUtils;