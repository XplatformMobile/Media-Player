function getTextEncoding(e){var t;switch(e){case 0:t="iso-8859-1";break;case 1:t="utf-16";break;case 2:t="utf-16be";break;case 3:t="utf-8"}return t}function getTime(e){var e=e/1e3,t=Math.floor(e)%60,r=Math.floor(e/60)%60,n=Math.floor(e/3600);return{seconds:t,minutes:r,hours:n}}function formatTime(e){var t=e.seconds<10?"0"+e.seconds:e.seconds,r=e.hours>0&&e.minutes<10?"0"+e.minutes:e.minutes;return(e.hours>0?e.hours+":":"")+r+":"+t}var ID3v2={readFrameData:{}},pictureType=["32x32 pixels 'file icon' (PNG only)","Other file icon","Cover (front)","Cover (back)","Leaflet page","Media (e.g. lable side of CD)","Lead artist/lead performer/soloist","Artist/performer","Conductor","Band/Orchestra","Composer","Lyricist/text writer","Recording Location","During recording","During performance","Movie/video screen capture","A bright coloured fish","Illustration","Band/artist logotype","Publisher/Studio logotype"];ID3v2.readFrameData.APIC=function(e,t,r,n,a){a=a||"3";var i=e,o=getTextEncoding(r.getByteAt(e));switch(a){case"2":var s=r.getStringAt(e+1,3);e+=4;break;case"3":case"4":var s=r.getStringWithCharsetAt(e+1,t-(e-i),"");e+=1+s.bytesReadCount}var u=r.getByteAt(e,1),l=pictureType[u],c=r.getStringWithCharsetAt(e+1,t-(e-i),o);return e+=1+c.bytesReadCount,{format:s.toString(),type:l,description:c.toString(),data:r.getBytesAt(e,i+t-e)}},ID3v2.readFrameData.COMM=function(e,t,r){var n=e,a=getTextEncoding(r.getByteAt(e)),i=r.getStringAt(e+1,3),o=r.getStringWithCharsetAt(e+4,t-4,a);e+=4+o.bytesReadCount;var s=r.getStringWithCharsetAt(e,n+t-e,a);return{language:i,short_description:o.toString(),text:s.toString()}},ID3v2.readFrameData.COM=ID3v2.readFrameData.COMM,ID3v2.readFrameData.PIC=function(e,t,r,n){return ID3v2.readFrameData.APIC(e,t,r,n,"2")},ID3v2.readFrameData.PCNT=function(e,t,r){return r.getInteger32At(e)},ID3v2.readFrameData.CNT=ID3v2.readFrameData.PCNT,ID3v2.readFrameData["T*"]=function(e,t,r){var n=getTextEncoding(r.getByteAt(e));return r.getStringWithCharsetAt(e+1,t-1,n).toString()},ID3v2.readFrameData.TCON=function(e,t,r){var n=ID3v2.readFrameData["T*"].apply(this,arguments);return n.replace(/^\(\d+\)/,"")},ID3v2.readFrameData.TCO=ID3v2.readFrameData.TCON,ID3v2.readFrameData.USLT=function(e,t,r){var n=e,a=getTextEncoding(r.getByteAt(e)),i=r.getStringAt(e+1,3),o=r.getStringWithCharsetAt(e+4,t-4,a);e+=4+o.bytesReadCount;var s=r.getStringWithCharsetAt(e,n+t-e,a);return{language:i,descriptor:o.toString(),lyrics:s.toString()}},ID3v2.readFrameData.ULT=ID3v2.readFrameData.USLT,module.exports=ID3v2;